<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

  <title>HeritArt</title>
</head>

<body style="background: url('../general/background.png');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  min-height: 100vh">
<div class="container border-primary my-2" style="text-align: center">
  <img src="../general/heritart-logo.png">
</div>
<div th:if="${success}" class="alert alert-success w-50 mx-auto" role="alert">
  Opera aggiunta al catalogo. Ritorna alla <a th:href="@{/Gestore}">Home</a>.
</div>
<div class="container border-primary rounded-lg w-50 p-2 mx-auto my-3 border" style="background-color: white; opacity: 0.8; text-align: center">
  <h2>Nuova opera</h2>

  <form th:action="@{'/Gestore/newOpera'}" method="post" class="row g-3" enctype="multipart/form-data">

    <div class="col-md-6 pt-3 px-5">
      <label for="titolo" class="form-label">Titolo</label>
      <input type="text" class="form-control" id="titolo" name="titolo" pattern="\S+.*" required>
    </div>

    <div class="col-md-6 pt-3 px-5">
      <label for="artista" class="form-label">Artista</label>
      <input type="text" class="form-control" id="artista" name="artista" pattern="\S+.*" required>
    </div>

    <div class="col-md-4 pt-4">
      <label for="annoCreazione" class="form-label">Anno</label>
      <input type="number" class="form-control" id="annoCreazione" name="annoCreazione" min="0" max="2023" required>
    </div>

    <div class="col-md-4 pt-4">
      <label for="provenienza" class="form-label">Provenienza</label>
      <input type="text" class="form-control" id="provenienza" name="provenienza" pattern="\S+.*" required>
    </div>

    <div class="col-md-4 pt-4">
      <label for="tipologia" class="form-label">Tipologia</label>
      <select class="form-select" id="tipologia" name="tipologia" required>
        <option th:each="tipologia : ${tipologiaList}"
                th:value="${tipologia}" th:text="${tipologia}"></option>
      </select>
    </div>

    <div class="col-12 py-4">
      <label for="descrizione" class="form-label">Descrizione</label>
      <textarea class="form-control" id="descrizione" name="descrizione"  rows="3"></textarea>
    </div>

    <div class="col-md-2 ps-5">
      <label for="dim1" class="form-label">L</label>
      <input type="number" class="form-control" id="dim1" name="dim1" value="0" min="0" max="1000" placeholder="cm" required>
    </div>
    <div class="col-md-2 px-4">
      <label for="dim2" class="form-label">W</label>
      <input type="number" class="form-control" id="dim2" name="dim2" value="0" min="0" max="1000" placeholder="cm" required>
    </div>
    <div class="col-md-2 pe-5">
      <label for="dim3" class="form-label">H</label>
      <input type="number" class="form-control" id="dim3" name="dim3" value="0" min="0" max="1000" placeholder="cm" disabled required>
    </div>

    <div class="col-md-3 ps-4">
      <label for="proprieta" class="form-label">Proprietà</label>
      <select class="form-select" id="proprieta" name="proprieta" required>
        <option th:each="proprieta : ${proprietaList}"
                th:value="${proprieta}" th:text="${proprieta.getName()}"></option>
      </select>
    </div>

    <div class="col-md-3 pe-4">
      <label for="condizioni" class="form-label">Condizioni</label>
      <select class="form-select" id="condizioni" name="condizioni" required>
        <option th:each="condizione : ${condizioniList}"
                th:value="${condizione}" th:text="${condizione.getName()}"></option>
      </select>
    </div>

    <div class="col-md-4 pt-5">
      <label for="correnteArtistica" class="form-label">Corrente artistica</label>
      <select class="form-select" id="correnteArtistica" name="correnteArtistica">
        <option value="" selected>--</option>
        <option th:each="correnteArtistica : ${correnteArtisticaList}"
                th:value="${correnteArtistica}" th:text="${correnteArtistica.getName()}"></option>
      </select>
    </div>

    <div class="col-md-4 pt-5">
      <label for="tecnica" class="form-label">Tecnica</label>
      <select class="form-select" id="tecnica" name="tecnica">
        <option value="" selected>--</option>
        <option th:each="tecnica : ${tecnicaList}"
                th:value="${tecnica}" th:text="${tecnica.getName()}"></option>
      </select>
    </div>

    <div class="col-md-4 pt-5">
      <label for="materiale" class="form-label">Materiale</label>
      <select class="form-select" id="materiale" name="materiale" disabled>
        <option value="" selected>--</option>
        <option th:each="materiale : ${materialeList}"
                th:value="${materiale}" th:text="${materiale}"></option>
      </select>
    </div>

    <div class="col-md-9 pt-4 px-5">
      <label for="files" class="form-label">Carica foto</label>
      <input type="file" class="form-control" id="files" name="files" accept="image/*" multiple max="2" />
    </div>

    <div class="col-md-3 pt-4 pe-5">
      <label for="prezzoMinimo" class="form-label">Base d'asta</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">€</span>
        </div>
        <input type="number" class="form-control" id="prezzoMinimo" name="prezzoMinimo" value="0" min="0" max="10000" step="50">
      </div>
    </div>

    <div class="col-12 py-4">
      <button type="submit" class="btn btn-primary btn-lg">Aggiungi</button>
    </div>

  </form>

</div>


</body>
<script>
  function yesnoCheck(that) {
    if (that.value == "Scultura") {
        document.getElementById("materiale").removeAttribute("disabled");
        document.getElementById("dim3").removeAttribute("disabled");
    } else {
        document.getElementById("materiale").setAttribute("disabled","disabled");
        document.getElementById("dim3").setAttribute("disabled","disabled");
        document.getElementById("materiale").value = "";
        document.getElementById("dim3").value = 0
    }
}
</script>